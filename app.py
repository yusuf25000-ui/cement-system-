import streamlit as st
import pandas as pd
from datetime import datetime

# ุฅุนุฏุงุฏุงุช ูุงุฌูุฉ ุงููุธุงู
st.set_page_config(page_title="ูุธุงู ุงููุนุงููุฉ ุงูุฌูุฑููุฉ", layout="wide")

st.title("๐๏ธ ูุธุงู ุฃุชูุชุฉ ุงุณุชูุงุฑุฉ ูุนุงููุฉ ุงูุบูุงุฑุฉ ูุงูุฌูุงูุจ")
st.write("ูุฑุฌู ุชุนุจุฆุฉ ุงูุนูุงููู ุงูุชุงููุฉ ุจูุงุกู ุนูู ูุซุงุฆู ุงูุดุญูุฉ:")

# ุฅูุดุงุก ูููุฐุฌ ุฅุฏุฎุงู ุงูุจูุงูุงุช (ุฎุงูู ูู ุฃู ููู ูุณุจูุฉ)
with st.form("customs_form", clear_on_submit=True):
    # ุงููุณู ุงูุฃูู: ุจูุงูุงุช ุนุงูุฉ
    st.subheader("๐ ุงูุจูุงูุงุช ุงูุนุงูุฉ")
    col1, col2, col3 = st.columns(3)
    with col1:
        importer = st.text_input("ุงููุณุชูุฑุฏ")
        clearer = st.text_input("ุงููุฎูุต")
    with col2:
        driver_name = st.text_input("ุงูุณุงุฆู")
        goods_type = st.text_input("ููุน ุงูุจุถุงุนุฉ")
    with col3:
        statement_no = st.text_input("ุฑูู ุงูุณุฌู")
        record_no = st.text_input("ุฑูู ุงูููุฏ")

    st.divider()

    # ุงููุณู ุงูุซุงูู: ุจูุงูุงุช ุงููุณููุฉ (ุงูุณูุงุฑุฉ)
    st.subheader("๐ ุจูุงูุงุช ูุณููุฉ ุงูููู")
    col4, col5, col6 = st.columns(3)
    with col4:
        car_type = st.text_input("ููุน ุงูุณูุงุฑุฉ")
    with col5:
        plate_no = st.text_input("ุฑูู ุงูููุญุฉ")
    with col6:
        chassis_no = st.text_input("ุฑูู ุงููุนุงุฏุฉ")

    st.divider()

    # ุงููุณู ุงูุซุงูุซ: ูุชูุฌุฉ ุงููุนุงููุฉ
    st.subheader("๐ ูุชูุฌุฉ ุงููุนุงููุฉ")
    inspection_result = st.text_area("ุชูุงุตูู ุงููุนุงููุฉ (ููุฌุฏ ุจุถุงุฆุน ูุงูุชุงูู / ูุง ููุฌุฏ)")

    # ุฒุฑ ุงูุฅุฑุณุงู
    submitted = st.form_submit_button("ุฅุฑุณุงู ุงูุจูุงูุงุช ุขููุงู ูููุฎุชุต")

# ููุทู ุงููุนุงูุฌุฉ ุจุนุฏ ุงูุถุบุท ุนูู ุงูุฒุฑ
if submitted:
    if plate_no and chassis_no:
        # ุชุณุฌูู ููุช ุงูุฅุฏุฎุงู ุขููุงู
        entry_date = datetime.now().strftime("%Y-%m-%d %H:%M")
        
        st.success(f"โ ุชู ุชุณุฌูู ุงูุจูุงูุงุช ุจูุฌุงุญ ุจุชุงุฑูุฎ {entry_date}")
        
        # ุนุฑุถ ููุฎุต ุณุฑูุน ููููุธู ูุจู ุงูุฅุฑุณุงู ุงูููุงุฆู
        st.info("ุฌุงุฑู ุฅุฑุณุงู ูุฐู ุงูุนูุงููู ุฅูู ูุฎุชุต ุงูุซูู...")
    else:
        st.error("โ๏ธ ุฎุทุฃ: ูุฌุจ ุฅุฏุฎุงู 'ุฑูู ุงูููุญุฉ' ู 'ุฑูู ุงููุนุงุฏุฉ' ูุญุฏ ุฃุฏูู.")
# ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุจุนุฏ ุงูุถุบุท ุนูู ุงูุฒุฑ
if submitted:
    if plate_no and chassis_no:
        # ุชุณุฌูู ุงูููุช ุงูุญุงูู ูู ุงููุงุชู ุขููุงู
        current_time = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        
        # ุชุฌููุน ุงูุจูุงูุงุช ูู ุฌุฏูู
        data = {
            "ููุช ุงูุชุณุฌูู": [current_time],
            "ุฑูู ุงูููุญุฉ": [plate_no],
            "ุฑูู ุงููุนุงุฏุฉ": [chassis_no],
            "ููุน ุงูุจุถุงุนุฉ": [goods_type],
            "ุงูุณุงุฆู": [driver_name],
            "ุฑูู ุงูุจูุงู": [statement_no]
        }
        
        st.success("โ ุชู ุญูุธ ุงูุจูุงูุงุช ูุฅุฑุณุงู ุฅุดุนุงุฑ ูููุฎุชุต")
        st.table(pd.DataFrame(data))
        
        # ุชูุจูู ุจุณูุท
        st.info("ุณูุชู ูุทุงุจูุฉ ูุฐู ุงูุจูุงูุงุช ูุน ุณุฌูุงุช ูุตูุญุฉ ุงูุถุฑุงุฆุจ ูุงูุฌูุงุฑู.")
    else:
        st.error("โ๏ธ ูุฑุฌู ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ (ุงูููุญุฉ ูุงููุนุงุฏุฉ)")
